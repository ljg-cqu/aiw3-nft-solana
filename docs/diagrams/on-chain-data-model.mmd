erDiagram
    title On-Chain Data Model
    USER {
        PublicKey publicKey "User's Wallet (Owner)"
    }

    USER_NFT_STATE {
        PublicKey owner PK "FK to User"
        int current_level
        PublicKey active_nft_mint
        list_PublicKey bound_badges
    }

    TIER_CONFIGURATION {
        PublicKey authority "Admin Key"
        int unlock_fee_cgas
        list_TierRequirement tier_requirements
    }

    AIW3_PROGRAM {
        string program_id "Program Address"
    }

    SPL_TOKEN_PROGRAM {
        string program_id "Standard Program"
    }

    USER ||--o{ USER_NFT_STATE : "has one"
    AIW3_PROGRAM }o--|| TIER_CONFIGURATION : "is governed by"
    AIW3_PROGRAM }o--o{ USER_NFT_STATE : "manages"
    AIW3_PROGRAM ..> SPL_TOKEN_PROGRAM : "invokes"
